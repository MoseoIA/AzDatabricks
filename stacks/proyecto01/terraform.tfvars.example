project_name        = "proyecto01"
resource_group_name = "rg-proyecto01"

tags = {
  environment = "dev"
  owner       = "equipo-datos"
}

# Activación de módulos
enable_data_factory = true
enable_databricks   = false
enable_storage      = true
enable_key_vault    = true

# Data Factory
data_factory_name                  = "adf-proyecto01-dev"
adf_private_endpoint_vnet_name     = "vnet-hub"
adf_private_endpoint_vnet_rg_name  = "rg-redes"
adf_private_endpoint_subnet_name   = "snet-privatelink"
adf_enable_private_dns_integration = true
adf_create_private_dns_zone        = false
adf_private_dns_zone_id            = "/subscriptions/<subId>/resourceGroups/<rg>/providers/Microsoft.Network/privateDnsZones/privatelink.datafactory.azure.net"
adf_private_endpoint_ip_offset     = 10

# Storage Account
storage_account_name              = "saproyecto01dev001"
storage_account_tier              = "Standard"
storage_replication_type          = "LRS"
storage_is_hns_enabled            = true
storage_min_tls_version           = "TLS1_2"
storage_enable_private_endpoint   = true
storage_private_endpoint_vnet_name    = "vnet-hub"
storage_private_endpoint_vnet_rg_name = "rg-redes"
storage_private_endpoint_subnet_name  = "snet-privatelink"
storage_private_endpoint_ip_offset    = 12
storage_allowed_public_ips           = ["203.0.113.10/32", "198.51.100.20/32"]

# Key Vault
key_vault_name                    = "kv-proyecto01-dev"
key_vault_sku                     = "standard"
key_vault_enable_rbac             = true
key_vault_soft_delete_retention_days = 7
key_vault_purge_protection        = true
key_vault_public_network_access   = false
key_vault_enable_private_endpoint = true
kv_private_endpoint_vnet_name    = "vnet-hub"
kv_private_endpoint_vnet_rg_name = "rg-redes"
kv_private_endpoint_subnet_name  = "snet-privatelink"
kv_private_endpoint_ip_offset    = 13
key_vault_allowed_public_ips     = ["203.0.113.10/32", "198.51.100.20/32"]

# SQL Database
enable_sql_database                 = true
sql_server_name                     = "sql-proyecto01-dev"
sql_database_name                   = "db-proyecto01"
sql_sku_name                        = "GP_S_Gen5_2"
sql_administrator_login             = "sqladminuser"
sql_administrator_login_password    = "<sensible>"
sql_admin_group_object_id           = "00000000-0000-0000-0000-000000000000"
sql_admin_group_name                = "aad-sql-admins"
sql_azuread_authentication_only     = true
sql_private_endpoint_vnet_name      = "vnet-hub"
sql_private_endpoint_vnet_rg_name   = "rg-redes"
sql_private_endpoint_subnet_name    = "snet-privatelink"
sql_private_endpoint_ip_offset      = 14
sql_allowed_public_ips              = ["203.0.113.10/32", "198.51.100.20/32"]


